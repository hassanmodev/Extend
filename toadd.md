skip chars
optional vars and default values
rule template return string not just callback returns for simple rules 
js expressions -> better var support removing leading and trailing vars issues